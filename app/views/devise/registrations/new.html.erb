<div class="registration-title">
  <h2>アカウント登録</h2>
</div>
<div class="registration-container">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>

    <div class="registration-field">
      <p>最初に呼んでほしいお名前を入力ください</p>
      <%= f.label :nickname, "呼んでほしい名前" %>
      <%= f.text_field :nickname, autofocus: true, value: session["devise.google_data"]&.dig("info", "name") || f.object.nickname %>
    </div>

    <div class="registration-field">
      <%= f.label :email, "メールアドレス" %>
      <%= f.email_field :email, autofocus: true, autocomplete: "email", value: session["devise.google_data"]&.dig("info", "email") || f.object.email %>
    </div>

    <div class="registration-field">
      <%= f.label :password, "パスワード(6文字以上)" %>
      <% if @minimum_password_length %>
        <!-- <em>(<%= @minimum_password_length %> characters minimum)</em> -->
      <% end %>
      <%= f.password_field :password, autocomplete: "new-password" %>
    </div>

    <div class="registration-field">
      <%= f.label :password_confirmation, "パスワード(再)" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
    </div>

    <div class="registration-actions">
      <%= f.submit "登録する", class: "btn btn-primary-update" %>
    </div>
  <% end %>


  <h2 class="login-2-title">すでにアカウントをお持ちの方</h2>
  <div class="login-2-links">
    <%- if controller_name != 'sessions' %>
      <%= link_to "メールアドレスでログイン", new_session_path(resource_name), class: 'login-2-link' %><br />
    <% end %>

    <%- if devise_mapping.omniauthable? %>
      <%= button_to "Googleでログイン", user_google_oauth2_omniauth_authorize_path, method: :post, class: 'btn btn-primary google-log-in-button' %><br />
      <%= link_to "LINEでログイン", user_line_omniauth_authorize_path, method: :post, class: 'btn btn-success line-log-in-button'  %><br />
    <% end %>
  </div>
</div>
